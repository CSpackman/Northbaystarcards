{"ast":null,"code":"import _objectSpread from\"/Users/connor/Documents/Northbaystarcards/northbaystarcards/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/connor/Documents/Northbaystarcards/northbaystarcards/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/connor/Documents/Northbaystarcards/northbaystarcards/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/connor/Documents/Northbaystarcards/northbaystarcards/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/connor/Documents/Northbaystarcards/northbaystarcards/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/connor/Documents/Northbaystarcards/northbaystarcards/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/connor/Documents/Northbaystarcards/northbaystarcards/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Client from\"shopify-buy\";import{jsx as _jsx}from\"react/jsx-runtime\";var ShopContext=/*#__PURE__*/React.createContext();var client=Client.buildClient({storefrontAccessToken:\"9032bf70b61916849fe2fd029e49684f\",domain:\"northbaystarcards.myshopify.com\"});//dd4d4dc146542ba7763305d71d1b3d38\n//graphql.myshopify.com\n//northbaystarcards.myshopify.com\n//9032bf70b61916849fe2fd029e49684f\nvar ShopProvider=/*#__PURE__*/function(_Component){_inherits(ShopProvider,_Component);var _super=_createSuper(ShopProvider);function ShopProvider(){var _this;_classCallCheck(this,ShopProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={products:[],product:{},checkout:{},filter:\"All\"};_this.createCheckout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var checkout;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return client.checkout.create();case 2:checkout=_context.sent;localStorage.setItem(\"checkout\",checkout.id);_context.next=6;return _this.setState({checkout:checkout});case 6:case\"end\":return _context.stop();}}},_callee);}));_this.fetchCheckout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(checkoutId){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:client.checkout.fetch(checkoutId).then(function(checkout){_this.setState({checkout:checkout});}).catch(function(err){return console.log(err);});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.addItemToCheckout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(variantId,quantity){var lineItemsToAdd,checkout;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:lineItemsToAdd=[{variantId:variantId,quantity:parseInt(quantity,10)}];_context3.next=3;return client.checkout.addLineItems(_this.state.checkout.id,lineItemsToAdd);case 3:checkout=_context3.sent;_this.setState({checkout:checkout});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}();_this.checkoutLineItemsRemove=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(checkoutId,lineItemIds){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:client.checkout.removeLineItems(checkoutId,lineItemIds).then(function(checkout){_this.setState({checkout:checkout});});case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4,_x5){return _ref4.apply(this,arguments);};}();_this.fetchAllProducts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var products;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return client.product.fetchAll();case 2:products=_context5.sent;_this.setState({products:products});case 4:case\"end\":return _context5.stop();}}},_callee5);}));_this.fetchProductWithId=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var product;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return client.product.fetch(id);case 2:product=_context6.sent;_this.setState({product:product});//console.log(JSON.stringify(product));\nreturn _context6.abrupt(\"return\",product);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x6){return _ref6.apply(this,arguments);};}();_this.setFilter=function(string){_this.setState({filter:string});};return _this;}_createClass(ShopProvider,[{key:\"componentDidMount\",value:function componentDidMount(){//Check if localStorage has a checkout_id saved\nif(localStorage.checkout){this.fetchCheckout(localStorage.checkout);}else{this.createCheckout();}//if there is no checkout_id in localStorage then we will create a new checkout\n//else fetch the checkout from shopify\n}},{key:\"addCommas\",value:function addCommas(x){var parts=x.toString().split(\".\");parts[0]=parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");return parts.join(\".\");}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(ShopContext.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{fetchAllProducts:this.fetchAllProducts,fetchProductWithId:this.fetchProductWithId,addItemToCheckout:this.addItemToCheckout,checkoutLineItemsRemove:this.checkoutLineItemsRemove,addCommas:this.addCommas,setFilter:this.setFilter}),children:this.props.children});}}]);return ShopProvider;}(Component);var ShopConsumer=ShopContext.Consumer;export{ShopConsumer,ShopContext};export default ShopProvider;","map":{"version":3,"sources":["/Users/connor/Documents/Northbaystarcards/northbaystarcards/src/context/shopContext.js"],"names":["React","Component","Client","ShopContext","createContext","client","buildClient","storefrontAccessToken","domain","ShopProvider","state","products","product","checkout","filter","createCheckout","create","localStorage","setItem","id","setState","fetchCheckout","checkoutId","fetch","then","catch","err","console","log","addItemToCheckout","variantId","quantity","lineItemsToAdd","parseInt","addLineItems","checkoutLineItemsRemove","lineItemIds","removeLineItems","fetchAllProducts","fetchAll","fetchProductWithId","setFilter","string","x","parts","toString","split","replace","join","addCommas","props","children","ShopConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Client from \"shopify-buy\";\n\nconst ShopContext = React.createContext();\n\nconst client = Client.buildClient({\n  storefrontAccessToken: \"9032bf70b61916849fe2fd029e49684f\",\n  domain: \"northbaystarcards.myshopify.com\",\n});\n\n//dd4d4dc146542ba7763305d71d1b3d38\n//graphql.myshopify.com\n\n//northbaystarcards.myshopify.com\n//9032bf70b61916849fe2fd029e49684f\n\nclass ShopProvider extends Component {\n  state = {\n    products: [],\n    product: {},\n    checkout: {},\n    filter: \"All\"\n  };\n\n  componentDidMount() {\n\n    //Check if localStorage has a checkout_id saved\n    if (localStorage.checkout) {\n      this.fetchCheckout(localStorage.checkout);\n    } else {\n      this.createCheckout();\n    }\n    //if there is no checkout_id in localStorage then we will create a new checkout\n\n    //else fetch the checkout from shopify\n  }\n\n  createCheckout = async () => {\n    const checkout = await client.checkout.create();\n    localStorage.setItem(\"checkout\", checkout.id);\n    await this.setState({ checkout: checkout });\n  };\n\n  fetchCheckout = async (checkoutId) => {\n    client.checkout\n      .fetch(checkoutId)\n      .then((checkout) => {\n        this.setState({ checkout: checkout });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  addItemToCheckout = async (variantId, quantity) => {\n    const lineItemsToAdd = [\n      {\n        variantId,\n        quantity: parseInt(quantity, 10),\n      },\n    ];\n\n    const checkout = await client.checkout.addLineItems(\n      this.state.checkout.id,\n      lineItemsToAdd\n    );\n\n\n\n    this.setState({ checkout: checkout });\n  };\n\n  checkoutLineItemsRemove = async (checkoutId, lineItemIds) => {\n  client.checkout.removeLineItems(checkoutId, lineItemIds).then((checkout) => {\n  this.setState({ checkout: checkout });\n});\n\n  };\n\n\n\n  fetchAllProducts = async () => {\n    const products = await client.product.fetchAll();\n    this.setState({ products: products });\n  };\n\n  fetchProductWithId = async (id) => {\n    const product = await client.product.fetch(id);\n    this.setState({ product: product });\n    //console.log(JSON.stringify(product));\n\n    return product;\n  };\n\n   addCommas(x){\n    var parts = x.toString().split(\".\");\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      return parts.join(\".\");\n  }\n\n\n\n\nsetFilter =(string) =>{\n  this.setState({filter: string});\n}\n\n\n\n  render() {\n    return (\n      <ShopContext.Provider\n        value={{\n          ...this.state,\n          fetchAllProducts: this.fetchAllProducts,\n          fetchProductWithId: this.fetchProductWithId,\n          addItemToCheckout: this.addItemToCheckout,\n          checkoutLineItemsRemove: this.checkoutLineItemsRemove,\n          addCommas: this.addCommas,\n          setFilter: this.setFilter,\n        }}\n      >\n        {this.props.children}\n      </ShopContext.Provider>\n    );\n  }\n}\n\nconst ShopConsumer = ShopContext.Consumer;\n\nexport { ShopConsumer, ShopContext };\n\nexport default ShopProvider;\n"]},"metadata":{},"sourceType":"module"}